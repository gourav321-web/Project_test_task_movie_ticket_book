c
@show
c
edit_movie_show_path(3, @show)
edit_movie_show_path
@movie
edit_movie_show_path(@movie, @show)
C
c
edit_movie_show(@show)
@show
current_user.role == "admin"
c
@user.update!(user_params)
c
@user
c
params[:id]
params.id
params
@movie
self
c
self
@movie
c
@movie
c
@movie
c
@movie
c
@movie
c
@show[:available_seats]
c
@movies
@movie
c
q
c
movies_path
movies_path(@movie)
<%= link_to "Delete", movies_path(@movie), method: :delete%>
method: :delete
movies_path(@movie)
c
@movie
c
@movie
@movies
c
@movie
c
message
c
@booking.errors
c
@errors
c
'c
c
n
user&.authenticate(params[:password])
User.find_by(email: params[:email])
params
c
]
message
<%= message %>
message
c
@booking.errors
c
@booking.errors[:seatnotpresent][0]
c
@booking.errors[:seatnotpresent]
@booking.errors[:seatnotpresent][0]
@booking.errors[:seatnotpresent][]
@booking.errors[:seatnotpresent]
@booking.errors
@booking.errors.[0]
@booking.errors.[]
@booking.errors
@booking.errors.any?
@booking.errors
@booking
c
@booking.errors
@booking.save!
errors.add(:seatnotpresent,"seats are not present as much you entered only #{show.available_seats} are present")
continue
next
errors.add(:seatnotpresent,"seats are not present as much you entered only #{show.available_seats} are present")
next
number_of_seats.present? && number_of_seats > show.available_seats
c
self.errors.any?
@booking.errors.any?
q
@booking.errors.any?
@booking.errors
q
message
c
message
c
@booking.errors[:seatnotpresent]
q
@booking.errors[:seatnotpresent]
@booking.errors
@booking.error[:seatnotpresent]
c
message
q
c
msg
c
msg
q
@booking.errors.count
@booking.errors.any?
@booking.errors.cout
msg
c
@booking.errors
@booking.errors.any?
c
flash[:alert]
q
n
flash[:alert]
q
n
flash[:alert]
n
q
flash[:alert]
n
@booking.errors.any?
q
flash[:alert]
n
@booking.errors.any?
q
n
flash[:alert]
q
@booking.errors.any?
n
@booking.errors.any?
q
a
n
a
q
errors
n
errors
error
errors.add(:number_of_seats,"seats are not present as much you entered(only #{show.available_seats} are present)")
errors
q
c
C
JWT_SECRET
c
payload
JWT.encode(payload, JWT_SECRET, 'HS256')
JWT_SECRET
JWT_SECRET,
q
c
JWT.decode(token, JWT_SECRET, true, algorithm: 'HS256')
JWT_SECRET
q
Q
JWT_SECRET
dgds
DecodeError
n
N
JWT_SECRET
q
cookies[:jwt]
token
q
payload
JWT_SECRET
q
JWT_SECRET
token
JWT_SECRET
q
token
JWT_SECRET
token
c
decoded_token
c
current_user
q
cookies.signed[:jwt]
token
