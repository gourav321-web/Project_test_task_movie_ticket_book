c
self
c
cc
c
show
email
email,
user
c
n
reminder_time > Time.current
c
@show.show_time
@show.show_time.strftime
@show.movie.title
@user.name
c
n
show
n
user_email
n
user_email
user
n
user_email
@booking
n
@booking
booking_id
n
@booking.id
SendShowReminderJob.perform_now(@booking.id)
c
reminder_time > Time.current
c
@user.name
c
email
user
c
@user.name
c
user
c
user_email
n
c
n
@booking.id
SendShowReminderJob.set(wait: 1.minutes).perform_later(@booking.id)
reminder_time > Time.current
reminder_time
c
n
c
n
N
reminder_time > Time.current
c
@book
c
SendShowReminderJob.set(wait: 10).perform_later(@booking.id)
reminder_time > Time.current
if reminder_time > Time.current
c
reminder_time
c
reminder_time
c
booking
c
reminder_time > Time.current
show_time - 1.hour
show_time
reminder_time
c
show_time - 1.hour
reminder_time > Time.current
c
SendShowReminderJob.set(wait_until: reminder_time).perform_later(@booking.id)
 reminder_time > Time.current
c
user_email
c
user
c
user
c
user_email
c
user
c
user
c
user
c
@book
c
@book
c
user
@book
c
@book
booking
c
booking
c
reminder_time > Time.current
if reminder_time > Time.current
c
reminder_time
c
reminder_time > Time.current
reminder_time
c
reminder_time > Time.current
c
show_time
@booking
@show
show
c
reminder_time > Time.current
c
reminder_time > Time.current
c
reminder_time
c
user_email
c
reminder_time > Time.current
c
reminder_time
c
@show.show_time
c
reminder_time
show_time
c
show
show_time
show
c
reminder_time
@booking.show
@booking.show.show_time
c
SendShowReminderJob.set(wait_until: reminder_time).perform_(@booking.user.id, @booking.show.id)
reminder_time 
@booking.show.show_time
c
@booking
@booking.save
c
source ~/.rvm/scripts/rvm
@booking
c
booking
c
UserMailer.booking_confirmation(self).deliver_later
if UserMailer.booking_confirmation(self).deliver_later
c
self
c
@user
@user.save
UserMailer.welcome_email(@user).deliver_later
c
self
c
@booking
@user
booking.user
@user.email
booking
c
   50:           form: { style: "display:inline" } %>
   49:           class: "book-btn",
   48:           data: { confirm: "Are you sure?" },
   47:           method: :delete,
=> 46:           movie_show_path(@show.movie, @show),
<%= button_to "Delete Show",
movie_show_path(@show.movie, @show)
c
@show
@show.movie
c
@booking.save
@booking
c
@booking.status
@booking
current_user
@booking
c
@show.bookings.new(booking_params)
c
@show
c
edit_movie_show_path(3, @show)
edit_movie_show_path
@movie
edit_movie_show_path(@movie, @show)
C
c
edit_movie_show(@show)
@show
current_user.role == "admin"
c
@user.update!(user_params)
c
@user
c
params[:id]
params.id
params
@movie
self
c
self
@movie
c
@movie
c
@movie
c
@movie
c
@movie
c
@show[:available_seats]
c
@movies
@movie
c
q
c
movies_path
movies_path(@movie)
<%= link_to "Delete", movies_path(@movie), method: :delete%>
method: :delete
movies_path(@movie)
c
@movie
c
@movie
@movies
c
@movie
c
message
c
@booking.errors
