c
n
c
reminder_time > Time.current
reminder_time
c
datetime_object
c
n
@movie = Movie.find(params[:movie_id])
@show  = @movie.shows.where(show_time: params[:key])
@show
n
@show
@movie
c
@movie.shows
@movie
params[:movie_id]
c
@shows
n
@shows
n
@shows
@movie
c
@shows
@movie
n
@shows
@movie
c
@shows
n
@shows
@movie
c
params[:id]
c
@movies
c
@movies
c
@movies
c
user_email
n
user_email
n
user_email
booking_id
c
booking_id
n
booking_id
n
booking_id
c
booking_id
n
booking_id
@booking
n
@booking
c
show
user_email
n
booking_id
n
@booking
n
@booking
booking_id
c
booking_id
n
booking_id
n
@booking.id
c
x
booking_id
n
booking_id
n
booking_id
c
self
c
cc
c
show
email
email,
user
c
n
reminder_time > Time.current
c
@show.show_time
@show.show_time.strftime
@show.movie.title
@user.name
c
n
show
n
user_email
n
user_email
user
n
user_email
@booking
n
@booking
booking_id
n
@booking.id
SendShowReminderJob.perform_now(@booking.id)
c
reminder_time > Time.current
c
@user.name
c
email
user
c
@user.name
c
user
c
user_email
n
c
n
@booking.id
SendShowReminderJob.set(wait: 1.minutes).perform_later(@booking.id)
reminder_time > Time.current
reminder_time
c
n
c
n
N
reminder_time > Time.current
c
@book
c
SendShowReminderJob.set(wait: 10).perform_later(@booking.id)
reminder_time > Time.current
if reminder_time > Time.current
c
reminder_time
c
reminder_time
c
booking
c
reminder_time > Time.current
show_time - 1.hour
show_time
reminder_time
c
show_time - 1.hour
reminder_time > Time.current
c
SendShowReminderJob.set(wait_until: reminder_time).perform_later(@booking.id)
 reminder_time > Time.current
c
user_email
c
user
c
user
c
user_email
c
user
c
user
c
user
c
@book
c
@book
c
user
@book
c
@book
booking
c
booking
c
reminder_time > Time.current
if reminder_time > Time.current
c
reminder_time
c
reminder_time > Time.current
reminder_time
c
reminder_time > Time.current
c
show_time
@booking
@show
show
c
reminder_time > Time.current
c
reminder_time > Time.current
c
reminder_time
c
user_email
c
reminder_time > Time.current
c
reminder_time
c
@show.show_time
c
reminder_time
show_time
c
show
show_time
show
c
reminder_time
@booking.show
@booking.show.show_time
c
SendShowReminderJob.set(wait_until: reminder_time).perform_(@booking.user.id, @booking.show.id)
reminder_time 
@booking.show.show_time
c
@booking
@booking.save
c
source ~/.rvm/scripts/rvm
@booking
c
booking
c
UserMailer.booking_confirmation(self).deliver_later
if UserMailer.booking_confirmation(self).deliver_later
c
self
c
@user
